action: pre-commit, msg: parallel pre-commit
cwd: /scratch/hgv27681/work/dev-c7
cmd: /scratch/hgv27681/work/dev-c7/.venv/bin/python3 .venv/lib/python3.13/site-packages/tox/__main__.py -p
pre-commit installed: accessible-pygments==0.0.5,alabaster==1.0.0,annotated-types==0.7.0,anyio==4.10.0,babel==2.17.0,beautifulsoup4==4.13.5,certifi==2025.8.3,cfgv==3.4.0,charset-normalizer==3.4.3,click==8.2.1,colorama==0.4.6,copier==9.10.1,coverage==7.10.6,-e git+ssh://git@github.com/DiamondLightSource/dev-c7.git@129eda49d32f14bc7b8c7494a918cfb64c5e7ec4#egg=dev_c7,distlib==0.4.0,docutils==0.21.2,dunamai==1.25.0,filelock==3.19.1,funcy==2.0,h11==0.16.0,identify==2.6.13,idna==3.10,imagesize==1.4.1,iniconfig==2.1.0,Jinja2==3.1.6,jinja2-ansible-filters==1.3.2,markdown-it-py==3.0.0,MarkupSafe==3.0.2,mdit-py-plugins==0.5.0,mdurl==0.1.2,myst-parser==4.0.1,nodeenv==1.9.1,packaging==25.0,pathlib2==2.3.7.post1,pathspec==0.12.1,pipdeptree==2.28.0,platformdirs==4.4.0,pluggy==1.6.0,plumbum==1.9.0,pre_commit==4.3.0,prompt_toolkit==3.0.51,py==1.11.0,pydantic==2.11.7,pydantic_core==2.33.2,pydata-sphinx-theme==0.16.1,Pygments==2.19.2,pyright==1.1.405,pytest==8.4.1,pytest-cov==6.2.1,PyYAML==6.0.2,questionary==2.1.1,requests==2.32.5,roman-numerals-py==3.1.0,ruff==0.12.11,six==1.17.0,sniffio==1.3.1,snowballstemmer==3.0.1,soupsieve==2.8,Sphinx==8.2.3,sphinx-autobuild==2025.8.25,sphinx-copybutton==0.5.2,sphinx_design==0.6.1,sphinxcontrib-applehelp==2.0.0,sphinxcontrib-devhelp==2.0.0,sphinxcontrib-htmlhelp==2.1.0,sphinxcontrib-jsmath==1.0.1,sphinxcontrib-qthelp==2.0.0,sphinxcontrib-serializinghtml==2.0.0,starlette==0.47.3,tox==3.28.0,tox-direct==0.4,types-mock==5.2.0.20250809,typing-inspection==0.4.1,typing_extensions==4.15.0,urllib3==2.5.0,uvicorn==0.35.0,virtualenv==20.34.0,watchfiles==1.1.0,wcwidth==0.2.13,websockets==15.0.1
pre-commit run-test-pre: PYTHONHASHSEED='481267985'
pre-commit run-test: commands[0] | pre-commit run --all-files --show-diff-on-failure
check for added large files..............................................Passed
check yaml...............................................................Failed
- hook id: check-yaml
- exit code: 1

while parsing a flow node
did not find expected node content
  in "Charts/dev-c7/templates/deployment.yaml", line 6, column 7

check for merge conflicts................................................Passed
fix end of files.........................................................Passed
pre-commit hook(s) made changes.
If you are seeing this message in CI, reproduce locally with: `pre-commit run --all-files`.
To run `pre-commit` as part of git workflow, use `pre-commit install`.
All changes made by hooks:
diff --git a/pyproject.toml b/pyproject.toml
index 41a53de..01f87ba 100644
--- a/pyproject.toml
+++ b/pyproject.toml
@@ -78,7 +78,7 @@ legacy_tox_ini = """
 [tox]
 skipsdist=True
 
-[testenv:{pre-commit,type-checking,tests,docs}]
+[testenv:{pre-commit,docs}]
 # Don't create a virtualenv for the command, requires tox-direct plugin
 direct = True
 passenv = *
@@ -90,8 +90,6 @@ allowlist_externals =
     sphinx-autobuild
 commands =
     pre-commit: pre-commit run --all-files --show-diff-on-failure {posargs}
-    type-checking: pyright src tests {posargs}
-    tests: pytest --cov=dev_c7 --cov-report term --cov-report xml:cov.xml {posargs}
     docs: sphinx-{posargs:build -EW --keep-going} -T docs build/html
 """
 
ERROR: InvocationError for command /scratch/hgv27681/work/dev-c7/.venv/bin/pre-commit run --all-files --show-diff-on-failure (exited with code 1)
